###############################################################################
# Copyright (c) 2022-25, Lawrence Livermore National Security, LLC and RADIUSS
# project contributors. See the COPYRIGHT file for details.
#
# SPDX-License-Identifier: (MIT)
###############################################################################

# Example .gitlab/custom-jobs.yml
#
# This file defines JOB TEMPLATES ONLY. They are meant to override the default
# implementation from the child pipelines.
# This file should be included in CHILD pipelines (via trigger: include:)
#
# Place this file at .gitlab/custom-jobs.yml in your project.

###############################################################################
# JOB CUSTOMIZATION TEMPLATES
###############################################################################

# Custom job template - extend this to add project-specific setup
# Note: this is inspired by the .gitlab/custom-jobs.yml from Umpire.
.custom_job:
  artifacts:
    reports:
      junit: junit.xml
    name: "${CI_PROJECT_NAME}-${CI_MACHINE}-${CI_JOB_NAME}-${CI_PIPELINE_ID}"
    paths:
      - ./*.cmake

# Custom performance job template
.custom_perf:
  before_script:
    - echo "Setting up performance test environment..."
    # Add any performance-specific setup here

###############################################################################
# REPRODUCER VARIABLES (Optional)
###############################################################################

# Override reproducer variables for specific machines if needed
# This allows you to add project-specific environment variables
# that should appear in the reproducer output

# Example from Umpire project:
.reproducer_vars:
  script:
    - |
      echo -e "
      # Required variables \n
      export MODULE_LIST=\"${MODULE_LIST}\" \n
      export SPEC=\"${SPEC//\"/\\\"}\" \n
      # Allow to set job script for debugging (only this differs from CI) \n
      export DEBUG_MODE=true \n
      # Using the CI build cache is optional and requires a token. Set it like so: \n
      # export REGISTRY_TOKEN=\"<your token here>\" \n"
